23:41:40.932 [Test worker] INFO  com.intuit.karate.Suite - backed up existing 'build/karate-reports' dir to: build/karate-reports_1660846300931
23:41:41.916 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:41:43.640 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:49:39.541 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:49:41.282 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:50:50.069 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:50:51.725 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:51:15.887 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:51:17.650 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:51:54.977 [pool-1-thread-5] INFO  com.intuit.karate - karate.env system property was: null 
23:51:54.976 [pool-1-thread-3] INFO  com.intuit.karate - karate.env system property was: null 
23:51:54.977 [pool-1-thread-4] INFO  com.intuit.karate - karate.env system property was: null 
23:51:54.977 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:51:54.976 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:51:56.185 [pool-1-thread-3] INFO  com.intuit.karate - karate.env system property was: null 
23:51:56.191 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:51:56.205 [pool-1-thread-4] INFO  com.intuit.karate - karate.env system property was: null 
23:51:56.217 [pool-1-thread-5] INFO  com.intuit.karate - karate.env system property was: null 
23:51:57.274 [pool-1-thread-5] INFO  com.intuit.karate - [print] /payments/alternative/action/paypal/events/J16OMJfoeyNjqp6CLI5xpfQdHfML4eAaLDQsP1lv5uSb6WJ3OqIqMZ23GZ_R5d0K 
23:52:25.048 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:55:09.801 [Test worker] INFO  com.intuit.karate.Runner - using system property 'karate.env': qa
23:55:11.584 [pool-1-thread-4] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:11.584 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:11.584 [pool-1-thread-5] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:11.584 [pool-1-thread-3] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:11.584 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:12.705 [pool-1-thread-5] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:12.707 [pool-1-thread-4] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:12.718 [pool-1-thread-3] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:12.747 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: qa 
23:55:13.123 [pool-1-thread-1] INFO  com.intuit.karate - [print] /payments/alternative/action/paypal/events/Uxa0XiGayJcOxNERYq4kGfQdHfML4eAaLDQsP1lv5uSb6WJ3OqIqMZ23GZ_R5d0K 
23:56:01.202 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:84
When method Get
too many retry attempts: 10
classpath:klarna/Features/AuthFlow.feature:84
23:56:02.261 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:57:46.705 [Test worker] INFO  com.intuit.karate.Runner - using system property 'karate.env': qa
23:57:48.463 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:48.465 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:48.463 [pool-1-thread-3] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:48.463 [pool-1-thread-4] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:48.464 [pool-1-thread-5] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:49.581 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:18
Then status 201
status code was: 200, expected: 201, response time in milliseconds: 423, url: https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree, response: 
{"resources":[{"name":"Sale","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
classpath:klarna/Features/AuthFlow.feature:18
23:57:49.616 [pool-1-thread-4] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:49.633 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:49.645 [pool-1-thread-3] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:49.645 [pool-1-thread-5] INFO  com.intuit.karate - karate.env system property was: qa 
23:57:50.122 [pool-1-thread-5] INFO  com.intuit.karate - [print] /payments/alternative/action/paypal/events/8HQX7PXN2l75zIcic2AzEW7oGhZ2wPXIJaugOZX01MlscZgWXn2zxwmbL1_vsoHh 
23:58:18.466 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
08:32:47.703 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
08:32:47.703 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
08:32:48.834 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Then status 201
status code was: 200, expected: 201, response time in milliseconds: 339, url: https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree, response: 
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
classpath:klarna/Features/AuthFlow.feature:19
08:32:50.196 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
08:33:46.554 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
08:33:46.555 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
08:33:47.617 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
Then status 201
status code was: 400, expected: 201, response time in milliseconds: 364, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{"errorName":"BodyIsEmpty","message":"The body within the request is empty. A body is required to be non-empty with all the required nested json fields"}
classpath:klarna/Features/AuthFlow.feature:27
08:33:48.466 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
08:35:47.678 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
08:35:47.687 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
08:35:49.983 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
08:37:32.068 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
08:37:32.076 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
08:37:34.156 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
09:19:13.857 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
09:19:13.857 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
09:19:16.670 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
22:55:46.182 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
22:55:46.183 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
22:55:50.244 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:00:26.840 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:00:26.840 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:00:33.343 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:02:57.413 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:02:57.410 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:02:59.716 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:10:12.958 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:10:12.958 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:10:15.751 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:21:31.133 [main] INFO  com.intuit.karate - Karate version: 1.2.0.RC1
23:26:07.597 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:26:07.597 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:26:09.848 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:28:00.547 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:28:00.547 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:28:00.644 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read('basic-auth.js') { username: '#(username)', password: '#(password)' }
js failed:
>>>>
01: read('basic-auth.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/WORLDPAY.LOCAL/ps735/IdeaProjects/apm-paypal-karate/build/resources/test/klarna/Features/basic-auth.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:57)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:125)
- <js>.:program(Unnamed:1)

classpath:klarna/Features/AuthFlow.feature:5
23:28:00.644 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read('basic-auth.js') { username: '#(username)', password: '#(password)' }
js failed:
>>>>
01: read('basic-auth.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/WORLDPAY.LOCAL/ps735/IdeaProjects/apm-paypal-karate/build/resources/test/klarna/Features/basic-auth.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:57)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:125)
- <js>.:program(Unnamed:1)

classpath:klarna/Features/AuthFlow.feature:5
23:28:01.873 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:31:18.839 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:31:18.839 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:31:20.715 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:41:18.594 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:41:18.594 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:41:19.400 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 400, expected: 201, response time in milliseconds: 300, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{"errorName":"BadCredential","message":"Access to the requested resource has been denied due to invalid authorization"}
classpath:klarna/Features/AuthFlow.feature:28
23:41:20.246 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:43:20.353 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:43:20.353 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:43:22.294 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
23:50:51.844 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:50:52.953 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
23:50:52.957 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
23:50:53.863 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"ENaWf4X4MMQ2","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

23:50:53.869 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate


23:50:54.355 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 478
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-19 18:20:54.321
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Fri, 19 Aug 2022 18:20:54 GMT
1 < X-Served-By: cache-man4141-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660933254.257555,VS0,VE74
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
23:50:54.682 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 819
1 < 201
1 < Connection: keep-alive
1 < Content-Length: 325
1 < wp-correlationid: test
1 < time-stamp: 2022-08-19 18:20:54.393
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Fri, 19 Aug 2022 18:20:54 GMT
1 < X-Served-By: cache-man4148-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660933254.261446,VS0,VE414
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/soT3FoJHQN5j2ffJkUHdR27oGhZ2wPXIJaugOZX01MlscZgWXn2zxwmbL1_vsoHh"},"curies":[{"href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
23:50:55.525 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:04:12.648 [main] INFO  com.intuit.karate - Karate version: 1.2.0.RC1
15:05:04.962 [main] INFO  com.intuit.karate - Karate version: 1.2.0.RC1
15:05:30.036 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:31.117 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:05:31.119 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:05:31.293 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
js failed:
>>>>
01: function fn() {
02:         var temp = username + ':' + password;
03:         var Base64 = Java.type('java.util.Base64');
04:         var encoded = Base64.getEncoder().encodeToString(temp.toString().getBytes());
05:         return 'Basic ' + encoded;
06:     }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "password" is not defined
- <js>.fn(Unnamed:2)

classpath:klarna/Features/AuthFlow.feature:5
15:05:31.295 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
js failed:
>>>>
01: function fn() {
02:         var temp = username + ':' + password;
03:         var Base64 = Java.type('java.util.Base64');
04:         var encoded = Base64.getEncoder().encodeToString(temp.toString().getBytes());
05:         return 'Basic ' + encoded;
06:     }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "password" is not defined
- <js>.fn(Unnamed:2)

classpath:klarna/Features/AuthFlow.feature:5
15:05:32.476 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:07:26.805 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:07:27.867 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:07:27.872 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:07:28.561 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:07:28.564 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"8P5tM5T2P4xN","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:07:28.898 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 328
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:37:28.869
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:37:28 GMT
1 < X-Served-By: cache-lon4226-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988249.817852,VS0,VE59
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:07:28.912 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 347
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:37:28 GMT
1 < X-Served-By: cache-man4143-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988249.824762,VS0,VE80
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:07:28.917 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 347, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:07:29.760 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:10:06.327 [main] INFO  com.intuit.karate - Karate version: 1.2.0.RC1
15:10:22.890 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:10:24.014 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:10:24.016 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:10:24.693 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:10:24.693 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"SZpBGJXo849i1Im","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:10:25.086 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 390
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:40:25 GMT
1 < X-Served-By: cache-man4127-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988425.999629,VS0,VE71
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:10:25.103 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 396
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:40:25.067
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:40:25 GMT
1 < X-Served-By: cache-man4135-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988425.998398,VS0,VE79
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:10:25.096 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 390, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:10:26.036 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:12:04.299 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:12:05.422 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:12:05.427 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:12:05.466 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:12:05.471 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:12:05.481 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:12:05.485 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:12:05.492 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:12:05.494 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:12:05.496 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:12:05.498 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@580b9dbe failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:12:05.466 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:12:05.514 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:12:05.516 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:12:05.518 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:12:05.542 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:12:05.543 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:12:05.544 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:12:05.546 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:12:05.560 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09: 
10:     }
11: 
12:     if (env == 'dev') {
13:         config.apiUrl = 'https://npe.access.worldpay.com/'
14:        // config.username = 'zes5xs2wzwi7njhe'
15:         //config.password = '4dyqNzo3alz2xRqiFRkj'
16:        config.username = karate.properties("karate.username")
17:      config.password =  karate.properties("karate.password")
18: 
19: 
20:     }
21:     if (env == 'qa') {
22:         config.apiUrl = 'https://preprod.access.worldpay.com/'
23:         config.username = '2o8epttj3ut447c9'
24:         config.password = 'QgdU3om9mRvlVz2aGYDC'
25:     }
26:     if (env == 'local') {
27:         config.apiUrl = 'http://localhost:8082/'
28:     }
29:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
30:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
31:     karate.configure('retry', { count: 10, interval: 5000 });
32:     config.faker = Java.type('com.github.javafaker.Faker');
33: 
34: 
35:     return config;
36: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4ae9238b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:16)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:12:06.920 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:15:35.373 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:15:36.478 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:15:36.478 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:15:37.139 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:15:37.139 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"GGZ33U1WwF5a","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:15:37.441 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 296
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:45:37.414
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:45:37 GMT
1 < X-Served-By: cache-lon4270-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988737.365786,VS0,VE55
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:15:37.446 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 306
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:45:37 GMT
1 < X-Served-By: cache-man4141-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988737.370059,VS0,VE69
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:15:37.451 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 306, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:15:38.305 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:16:34.049 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:16:35.162 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:16:35.165 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:16:35.882 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:16:35.887 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 648
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"8Qo3bcg6WOiVR","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:16:36.152 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 262
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:46:36 GMT
1 < X-Served-By: cache-man4129-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988796.133072,VS0,VE5
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:16:36.162 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 262, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:16:36.216 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 328
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:46:36.191
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:46:36 GMT
1 < X-Served-By: cache-man4150-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988796.129491,VS0,VE71
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:16:37.042 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:17:52.724 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:17:53.834 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:17:53.838 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:17:54.617 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 648
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"77gjo07V90A71","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:17:54.624 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:17:54.894 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 275
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:47:54 GMT
1 < X-Served-By: cache-man4122-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988875.879050,VS0,VE1
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:17:54.899 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 275, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:17:54.963 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 336
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:47:54.94
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:47:54 GMT
1 < X-Served-By: cache-man4149-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988875.880567,VS0,VE69
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:17:55.803 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:19:40.939 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:19:41.987 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:19:41.988 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:19:42.715 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:19:42.715 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"0B24012B9cO4Ioa","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:19:43.053 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 335
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:49:43 GMT
1 < X-Served-By: cache-lon4271-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988983.981685,VS0,VE60
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:19:43.063 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 335, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:19:43.088 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 364
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:49:43.051
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:49:43 GMT
1 < X-Served-By: cache-man4139-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660988983.989979,VS0,VE71
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:19:43.957 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:23:13.073 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:23:14.141 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:23:14.142 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:23:14.212 [pool-1-thread-2] INFO  com.intuit.karate - ********************* null 
15:23:14.212 [pool-1-thread-1] INFO  com.intuit.karate - ********************* null 
15:23:14.895 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"A0CSHt44xRDM","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:23:14.897 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:23:15.199 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 300
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:53:15 GMT
1 < X-Served-By: cache-lon4229-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660989195.150336,VS0,VE37
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
15:23:15.209 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 300, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
15:23:15.213 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 306
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:53:15.187
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:53:15 GMT
1 < X-Served-By: cache-lon4255-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660989195.138871,VS0,VE55
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:23:16.122 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:25:13.968 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:15.035 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:25:15.037 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:25:15.076 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:25:15.076 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:25:15.081 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:25:15.084 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:25:15.092 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:25:15.096 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:25:15.099 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:25:15.101 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:25:15.104 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:25:15.106 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:25:15.108 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@2dc8e326 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:25:15.094 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:25:15.121 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:25:15.123 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:25:15.125 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:25:15.127 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:25:15.129 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:        // config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:        config.username = karate.properties('karate.username')
19:         karate.log('*********************', karate.properties('karate.username'))
20:        config.password =  karate.properties('karate.password')
21: 
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5ae78a1d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:25:16.625 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:27:31.986 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:27:33.049 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:27:33.054 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:27:33.773 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"H33BQ6L05FMsMW1","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:27:33.780 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:27:34.113 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 326
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:57:34.082
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:57:34 GMT
1 < X-Served-By: cache-man4135-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660989454.023367,VS0,VE69
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:27:35.767 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 1993
1 < 201
1 < Connection: keep-alive
1 < Content-Length: 325
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:57:34.132
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:57:35 GMT
1 < X-Served-By: cache-man4143-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660989454.024148,VS0,VE1736
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/2pIQVFUNDWAIqjULuyQBISduL48VeCWWpxEnicRshir3abAob1ETQpJQ-E5kASZi"},"curies":[{"href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
15:27:36.613 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:29:30.286 [Test worker] INFO  com.intuit.karate.Runner - using system property 'karate.env': qa
15:29:31.010 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:29:32.083 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: qa 
15:29:32.083 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: qa 
15:29:32.806 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic Mm84ZXB0dGozdXQ0NDdjOTpRZ2RVM29tOW1SdmxWejJhR1lEQw==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: preprod.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


15:29:32.807 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://preprod.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic Mm84ZXB0dGozdXQ0NDdjOTpRZ2RVM29tOW1SdmxWejJhR1lEQw==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: preprod.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"9ddVx3DRf9xu","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

15:29:33.171 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 357
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 484
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:59:33.139
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:59:33 GMT
1 < X-Served-By: cache-man4136-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660989573.076262,VS0,VE73
1 < Set-Cookie: d8b2f30efb76d645f1f4f7f8841613da=acbea96fc9c892f8c0eb1725858f48fa; Domain=preprod.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
15:29:35.766 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 2958
1 < 201
1 < Connection: keep-alive
1 < Content-Length: 329
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 09:59:33.1
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 09:59:35 GMT
1 < X-Served-By: cache-lcy19247-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660989573.063453,VS0,VE2698
1 < Set-Cookie: d8b2f30efb76d645f1f4f7f8841613da=337c4d4c574c96849958e72f49c22b52; Domain=preprod.access.worldpay.com; Secure
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/ZdjhKiBTy_DvLTeER8LOSG7oGhZ2wPXIJaugOZX01MlscZgWXn2zxwmbL1_vsoHh"},"curies":[{"href":"https://preprod.access.worldpay.com/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
15:29:36.591 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:31:46.942 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:31:48.615 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:31:48.615 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:31:48.674 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:31:48.680 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:31:48.683 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:31:48.701 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:31:48.703 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:31:48.687 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:31:48.708 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:31:48.710 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:31:48.712 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:31:48.726 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:31:48.732 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:31:48.764 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:31:48.765 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7b7b9983 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:31:48.738 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:31:48.776 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:31:48.777 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:31:48.778 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@21770a3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:31:49.892 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:35:04.030 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:35:05.092 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:35:05.094 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:35:05.127 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:35:05.131 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:35:05.137 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:35:05.140 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:35:05.143 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:35:05.146 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:35:05.148 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:35:05.151 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@4c8e4e3f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:35:05.127 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:35:05.156 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:35:05.158 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:35:05.160 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:35:05.162 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:35:05.164 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:35:05.166 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:35:05.168 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:35:05.170 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         config.username = karate.properties('karate.username')
19:          karate.log('*********************', karate.properties('karate.username'))
20:         config.password =  karate.properties('karate.password')
21:        //
22: 
23:     }
24:     if (env == 'qa') {
25:         config.apiUrl = 'https://preprod.access.worldpay.com/'
26:         config.username = '2o8epttj3ut447c9'
27:         config.password = 'QgdU3om9mRvlVz2aGYDC'
28:     }
29:     if (env == 'local') {
30:         config.apiUrl = 'http://localhost:8082/'
31:     }
32:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
33:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
34:     karate.configure('retry', { count: 10, interval: 5000 });
35:     config.faker = Java.type('com.github.javafaker.Faker');
36: 
37: 
38:     return config;
39: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@759181e1 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:35:06.627 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:38:00.674 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:38:01.771 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:38:01.769 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:38:01.818 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:38:01.825 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:38:01.834 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:38:01.837 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:38:01.846 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:38:01.848 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:38:01.849 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:38:01.851 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:38:01.854 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@814789d failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:38:01.822 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:38:01.862 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:38:01.863 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:38:01.864 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:38:01.865 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:38:01.865 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:38:01.877 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:38:01.878 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@171d1994 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:38:03.098 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:44:18.794 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:44:19.906 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:44:19.911 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:44:19.967 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:44:19.974 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:44:19.978 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:44:19.970 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:44:19.989 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:44:19.992 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:44:19.994 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:44:19.995 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:44:19.997 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:44:20.005 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:44:20.006 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:44:20.008 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@3d9a4879 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:44:19.985 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:44:20.013 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:44:20.016 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:44:20.018 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:44:20.019 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7babce9b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:44:21.385 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:45:29.249 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:45:30.420 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:45:30.425 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:45:30.470 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:45:30.470 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:45:30.475 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:45:30.483 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:45:30.487 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:45:30.492 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:45:30.495 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:45:30.498 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:45:30.505 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@216c828b failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:45:30.479 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:45:30.515 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:45:30.517 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:45:30.519 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:45:30.521 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:45:30.522 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:45:30.523 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:45:30.525 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@5992b65f failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:45:31.818 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:47:40.162 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:47:41.225 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:47:41.224 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:47:41.272 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:47:41.279 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:47:41.283 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:47:41.286 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:47:41.301 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:47:41.275 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:47:41.325 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:47:41.327 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:47:41.329 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:47:41.331 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:47:41.333 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:47:41.350 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:47:41.352 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:47:41.354 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@7ae39f69 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:47:41.323 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:47:41.357 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:47:41.358 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['karate.username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['karate.password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@46f69f54 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:47:42.633 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
15:48:40.062 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:48:41.102 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
15:48:41.102 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
15:48:41.150 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:48:41.160 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:48:41.150 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
15:48:41.172 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
15:48:41.175 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:48:41.177 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:48:41.180 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:48:41.183 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
15:48:41.186 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
15:48:41.188 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
15:48:41.192 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@6cfa48da failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
15:48:41.164 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
15:48:41.201 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
15:48:41.203 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
15:48:41.204 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
15:48:41.206 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
15:48:41.221 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         //config.password = '4dyqNzo3alz2xRqiFRkj'
18:         //config.username = karate.properties('karate.username')
19:         config.username = karate.properties['username']
20:          karate.log('*********************', karate.properties('karate.username'))
21:         //config.password =  karate.properties('karate.password')
22:         config.username = karate.properties['password']
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@24e82c9 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:20)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
15:48:42.467 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:06:09.160 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:06:10.312 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:06:10.317 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:06:10.358 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
16:06:10.363 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
16:06:10.365 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
16:06:10.368 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
16:06:10.370 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
16:06:10.373 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
16:06:10.375 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
16:06:10.377 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@557b1321 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
16:06:10.358 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
16:06:10.402 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
16:06:10.404 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
16:06:10.406 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
16:06:10.408 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
16:06:10.409 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
16:06:10.417 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
16:06:10.419 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
16:06:10.420 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var username = karate.properties['username']
18:          config.username = username
19:          karate.log('*********************', karate.properties('karate.username'))
20:         //config.password =  karate.properties('karate.password')
21:         var password = karate.properties['password']
22:         config.password = password
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@11a56210 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:19)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
16:06:11.838 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:06:45.881 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:06:47.001 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:06:47.001 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:06:47.838 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"G78S6uulmE2BB2W","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:06:47.853 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:06:48.319 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 467
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:36:48 GMT
1 < X-Served-By: cache-lon4273-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660991808.267456,VS0,VE39
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:06:48.328 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 467, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:06:48.364 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 506
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:36:48.338
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:36:48 GMT
1 < X-Served-By: cache-man4139-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660991808.270776,VS0,VE76
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:06:49.202 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:09:47.791 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:09:48.901 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:09:48.905 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:09:49.534 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:09:49.534 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"l6dlY23gV57X","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:09:49.870 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 333
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:39:49 GMT
1 < X-Served-By: cache-man4132-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660991990.799109,VS0,VE56
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:09:49.872 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 334
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:39:49.847
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:39:49 GMT
1 < X-Served-By: cache-lcy19240-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660991990.794868,VS0,VE60
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:09:49.883 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 333, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:09:50.742 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:10:17.011 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:10:18.767 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:10:18.772 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:10:19.341 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:10:19.341 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"me9oj3236LzwHFM","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:10:19.627 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 283
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:40:19 GMT
1 < X-Served-By: cache-man4147-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992020.608567,VS0,VE3
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:10:19.630 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 283, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:10:19.698 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 352
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:40:19.672
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:40:19 GMT
1 < X-Served-By: cache-man4149-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992020.607941,VS0,VE74
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:10:20.556 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:11:18.990 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:11:20.124 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:11:20.128 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:11:20.151 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:11:20.151 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:11:20.754 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:11:20.754 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"60U0zD1w3sTmt2H","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:11:21.091 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 333
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:41:21 GMT
1 < X-Served-By: cache-man4143-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992081.018583,VS0,VE63
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:11:21.091 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 331
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:41:21.065
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:41:21 GMT
1 < X-Served-By: cache-lon4243-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992081.012979,VS0,VE60
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:11:21.100 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 333, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:11:22.018 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:11:41.922 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:11:42.976 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:11:42.979 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:11:43.000 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:11:43.000 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:11:43.627 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:11:43.627 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"Qe780wBgB54M","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:11:43.919 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 288
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:41:43 GMT
1 < X-Served-By: cache-man4129-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992104.896914,VS0,VE6
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:11:43.928 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 288, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:11:43.998 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 366
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:41:43.974
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:41:43 GMT
1 < X-Served-By: cache-man4127-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992104.895553,VS0,VE88
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:11:44.847 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:13:08.883 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:13:10.034 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:13:10.043 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:13:10.089 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
16:13:10.089 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
16:13:10.094 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
16:13:10.097 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
16:13:10.103 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
16:13:10.106 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
16:13:10.108 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
16:13:10.145 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
16:13:10.101 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
16:13:10.150 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
16:13:10.153 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
16:13:10.155 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
16:13:10.156 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
16:13:10.157 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
16:13:10.148 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
16:13:10.159 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
16:13:10.160 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     karate.log('karate.env system property was:', env);
04:     if (!env) {
05:         env = 'dev';
06:     }
07:     var config = {
08:         apiUrl: 'https://conduit.productionready.io/api/',
09:         username: '123',
10:         password: '123'
11: 
12:     }
13: 
14:     if (env == 'dev') {
15:         config.apiUrl = 'https://npe.access.worldpay.com/'
16:         //config.username = 'zes5xs2wzwi7njhe'
17:         var npeusername = karate.properties['username']
18:         karate.log('**************', username)
19:          config.username = npeusername
20:         //config.password =  karate.properties('karate.password')
21:         var npepassword = karate.properties['password']
22:         config.password = npepassword
23: 
24: 
25:         //
26: 
27:     }
28:     if (env == 'qa') {
29:         config.apiUrl = 'https://preprod.access.worldpay.com/'
30:         config.username = '2o8epttj3ut447c9'
31:         config.password = 'QgdU3om9mRvlVz2aGYDC'
32:     }
33:     if (env == 'local') {
34:         config.apiUrl = 'http://localhost:8082/'
35:     }
36:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
37:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
38:     karate.configure('retry', { count: 10, interval: 5000 });
39:     config.faker = Java.type('com.github.javafaker.Faker');
40: 
41: 
42:     return config;
43: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:18)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
16:13:11.429 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:14:42.068 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:14:43.168 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:14:43.167 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:14:43.197 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:14:43.204 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:14:43.873 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:14:43.875 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 649
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"Gaf1Kf0r2JSk88","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:14:44.251 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 373
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:44:44 GMT
1 < X-Served-By: cache-man4120-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992284.161978,VS0,VE74
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:14:44.254 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 376
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:44:44.226
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:44:44 GMT
1 < X-Served-By: cache-man4132-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992284.160063,VS0,VE76
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:14:44.262 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 373, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:14:45.207 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:15:19.778 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:15:20.856 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:15:20.858 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:15:20.878 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:15:20.892 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:15:21.564 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 648
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"mrbIlTnF5ae4p","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:15:21.567 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:15:21.884 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 316
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:45:21 GMT
1 < X-Served-By: cache-man4133-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992322.865322,VS0,VE4
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:15:21.895 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 316, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:15:21.945 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 373
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:45:21.92
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:45:21 GMT
1 < X-Served-By: cache-man4134-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992322.857860,VS0,VE72
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:15:22.914 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:15:57.394 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:15:58.423 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:15:58.423 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:15:58.447 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:15:58.447 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:15:59.075 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:15:59.075 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"106KLcy4bxm1","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:15:59.356 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 278
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:45:59 GMT
1 < X-Served-By: cache-man4145-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992359.337370,VS0,VE4
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:15:59.364 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 278, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:15:59.421 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 339
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:45:59.395
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:45:59 GMT
1 < X-Served-By: cache-man4129-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992359.337114,VS0,VE67
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:16:00.333 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:16:28.198 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:16:29.267 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:16:29.269 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:16:29.294 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:16:29.297 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:16:29.993 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"2MGU50182277uD8","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:16:30.003 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:16:30.337 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 340
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:46:30 GMT
1 < X-Served-By: cache-lcy19271-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992390.261801,VS0,VE60
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:16:30.345 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 340, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:16:30.366 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 351
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:46:30.332
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:46:30 GMT
1 < X-Served-By: cache-man4132-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992390.271836,VS0,VE69
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:16:31.290 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:24:59.083 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:25:00.151 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:25:00.158 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:25:00.173 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:25:00.173 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:25:00.912 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:25:00.918 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"3q5eRVr2669f","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:25:01.246 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 325
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:55:01.216
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:55:01 GMT
1 < X-Served-By: cache-lcy19222-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992901.163624,VS0,VE61
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:25:01.248 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 327
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:55:01 GMT
1 < X-Served-By: cache-man4120-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992901.171115,VS0,VE67
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:25:01.265 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 327, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:25:02.145 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:26:07.757 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:26:08.809 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:26:08.809 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:26:08.823 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:26:08.821 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:26:09.496 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:26:09.498 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"5i1lX4836525zRL","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:26:09.865 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 364
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:56:09 GMT
1 < X-Served-By: cache-lcy19235-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992970.796047,VS0,VE56
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:26:09.874 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 364, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:26:09.893 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 393
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:56:09.865
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:56:09 GMT
1 < X-Served-By: cache-man4139-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660992970.801653,VS0,VE73
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:26:10.773 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:27:25.733 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:27:26.792 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
16:27:26.811 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
16:27:26.797 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
16:27:26.813 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
16:27:27.489 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


16:27:27.493 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"Ldk3m524nfv2OfA","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

16:27:27.922 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 426
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:57:27 GMT
1 < X-Served-By: cache-man4135-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660993048.852387,VS0,VE55
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
16:27:27.933 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 426, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
16:27:27.942 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 448
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 10:57:27.914
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 10:57:27 GMT
1 < X-Served-By: cache-man4136-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1660993048.848453,VS0,VE76
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
16:27:28.829 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
16:28:37.095 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:28:38.182 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
16:28:38.192 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
16:28:38.194 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
16:28:38.196 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
16:28:38.199 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
16:28:38.201 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:19
Given path 'rels/payments/alternative/action/paypal/resourceTree'
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
16:28:38.203 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:20
When method Get
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
16:28:38.206 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:21
Then status 200
>> classpath:klarna/Features/AuthFlow.feature:18
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@610b0fc6 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:19
classpath:klarna/Features/AuthFlow.feature:20
classpath:klarna/Features/AuthFlow.feature:21
16:28:38.182 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:4
Given url apiUrl
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
16:28:38.212 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
16:28:38.222 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:8
* def datagenerator = Java.type('klarna.helpers.DataGenerator')
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
16:28:38.224 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:9
* def reference = datagenerator.getRandomreference()
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
16:28:38.237 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:10
* def body = read ("classpath:klarna/helpers/paypalSale.json")
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
16:28:38.238 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:25
Given path '/payments/alternative/action/paypal/sale'
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
16:28:38.239 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:26
And request body
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
16:28:38.240 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:27
When method Post
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
16:28:38.241 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
>> classpath:klarna/Features/AuthFlow.feature:24
>> karate-config.js failed
>> js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: function fn() {
02:     var env = karate.env; // get system property 'karate.env'
03:     var username = karate.properties('username')
04:     var password = karate.properties['password']
05: 
06:     karate.log('karate.env system property was:', env);
07:     if (!env) {
08:         env = 'dev';
09:     }
10:     var config = {
11:         apiUrl: 'https://conduit.productionready.io/api/',
12: 
13:     }
14: 
15:     if (env == 'dev') {
16:         config.apiUrl = 'https://npe.access.worldpay.com/'
17:         //config.username = 'zes5xs2wzwi7njhe'
18:         karate.log('**************', username)
19:          config.username = username
20:         //config.password =  karate.properties('karate.password')
21:         config.password = password
22: 
23: 
24:         //
25: 
26:     }
27:     if (env == 'qa') {
28:         config.apiUrl = 'https://preprod.access.worldpay.com/'
29:         config.username = '2o8epttj3ut447c9'
30:         config.password = 'QgdU3om9mRvlVz2aGYDC'
31:     }
32:     if (env == 'local') {
33:         config.apiUrl = 'http://localhost:8082/'
34:     }
35:     //karate.callSingle('calsspath:klarna/Features/AuthFlow.feature',config)
36:     karate.configure('headers', { Accept: 'application/vnd.worldpay.paypal-v1+json', 'Content-Type': 'application/vnd.worldpay.paypal-v1+json','wp-correlationId': 'test' });
37:     karate.configure('retry', { count: 10, interval: 5000 });
38:     config.faker = Java.type('com.github.javafaker.Faker');
39: 
40: 
41:     return config;
42: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (properties) on com.intuit.karate.core.ScenarioBridge@47ae8314 failed due to: Unknown identifier: properties
- <js>.fn(Unnamed:3)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:230)
- com.intuit.karate.core.ScenarioEngine.executeJsValue(ScenarioEngine.java:1263)
- com.intuit.karate.core.ScenarioEngine.executeFunction(ScenarioEngine.java:1246)
- com.intuit.karate.core.ScenarioEngine.getOrEvalAsMap(ScenarioEngine.java:1235)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:293)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:371)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:397)

classpath:klarna/Features/AuthFlow.feature:4
classpath:klarna/Features/AuthFlow.feature:5
classpath:klarna/Features/AuthFlow.feature:8
classpath:klarna/Features/AuthFlow.feature:9
classpath:klarna/Features/AuthFlow.feature:10
classpath:klarna/Features/AuthFlow.feature:25
classpath:klarna/Features/AuthFlow.feature:26
classpath:klarna/Features/AuthFlow.feature:27
classpath:klarna/Features/AuthFlow.feature:28
16:28:39.500 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:31:47.166 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:31:48.236 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
21:31:48.248 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
21:31:48.259 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
21:31:48.262 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
21:31:48.926 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"RCpn24zdv1vu","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:31:48.929 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:31:49.235 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 306
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:01:49 GMT
1 < X-Served-By: cache-lon4276-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661011309.173962,VS0,VE51
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
21:31:49.244 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 306, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
21:31:49.248 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 304
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:01:49.215
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:01:49 GMT
1 < X-Served-By: cache-lon4259-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661011309.168346,VS0,VE54
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
21:31:50.163 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:34:48.232 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:34:49.314 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
21:34:49.308 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
21:34:49.330 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
21:34:49.340 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
21:34:50.020 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 648
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"NhgjR5898I4Nq","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:34:50.029 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:34:50.405 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 383
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:04:50 GMT
1 < X-Served-By: cache-man4124-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661011490.316466,VS0,VE75
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
21:34:50.408 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 375
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:04:50.382
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:04:50 GMT
1 < X-Served-By: cache-man4146-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661011490.314900,VS0,VE77
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
21:34:50.417 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 383, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
21:34:51.289 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:35:41.968 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:35:43.023 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
21:35:43.022 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
21:35:43.039 [pool-1-thread-2] INFO  com.intuit.karate - ************** null 
21:35:43.043 [pool-1-thread-1] INFO  com.intuit.karate - ************** null 
21:35:43.693 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:35:43.696 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic bnVsbDpudWxs
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"C4661pS8N9a9xgV","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:35:44.030 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 327
1 < 401
1 < Connection: close
1 < Content-Length: 98
1 < Retry-After: 0
1 < WP-CorrelationId: test
1 < Content-Type: application/json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:05:44 GMT
1 < X-Served-By: cache-lon4270-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661011544.956662,VS0,VE57
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
21:35:44.033 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 328
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:05:43.999
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:05:44 GMT
1 < X-Served-By: cache-lon4240-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661011544.954959,VS0,VE52
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
21:35:44.047 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:28
Then status 201
status code was: 401, expected: 201, response time in milliseconds: 327, url: https://npe.access.worldpay.com/payments/alternative/action/paypal/sale, response: 
{
  "errorName": "accessDenied",
  "message": "Access to the requested resource has been denied"
}
classpath:klarna/Features/AuthFlow.feature:28
21:35:44.928 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:43:56.692 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:43:57.794 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
21:43:57.815 [pool-1-thread-2] INFO  com.intuit.karate - ************** zes5xs2wzwi7njhe 
21:43:57.795 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
21:43:57.817 [pool-1-thread-1] INFO  com.intuit.karate - ************** zes5xs2wzwi7njhe 
21:43:58.485 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:43:58.491 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"922c5HgJ9M88j7a","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:43:58.806 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 313
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:13:58.777
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:13:58 GMT
1 < X-Served-By: cache-lon4264-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661012039.732348,VS0,VE52
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
21:44:01.357 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 2865
1 < 201
1 < Connection: keep-alive
1 < Content-Length: 325
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:13:58.807
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:14:01 GMT
1 < X-Served-By: cache-lon4241-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661012039.724054,VS0,VE2629
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=451cb461df97542abf7740bd0be02570; Domain=npe.access.worldpay.com; Secure
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/DaBDkeOJbYYLXE0EncInJCduL48VeCWWpxEnicRshir3abAob1ETQpJQ-E5kASZi"},"curies":[{"href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
21:44:02.209 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:48:13.903 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:48:14.956 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
21:48:14.960 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
21:48:14.976 [pool-1-thread-1] INFO  com.intuit.karate - ************** zes5xs2wzwi7njhe 
21:48:14.976 [pool-1-thread-2] INFO  com.intuit.karate - ************** zes5xs2wzwi7njhe 
21:48:15.628 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:48:15.629 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 647
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"8iqXEXaH99t7","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:48:16.020 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 384
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:18:15.987
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:18:15 GMT
1 < X-Served-By: cache-man4120-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661012296.925357,VS0,VE72
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=58aa920488de5a5c82aedbe666d6bdff; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
21:48:16.288 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 659
1 < 201
1 < Connection: keep-alive
1 < Content-Length: 325
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:18:16.021
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:18:16 GMT
1 < X-Served-By: cache-lon4246-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661012296.921055,VS0,VE363
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/olJblGN-uWZI6ZKzgQfiAG7oGhZ2wPXIJaugOZX01MlscZgWXn2zxwmbL1_vsoHh"},"curies":[{"href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
21:48:17.143 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:50:18.803 [Test worker] INFO  com.intuit.karate.Runner - using system property 'karate.env': local
21:50:19.560 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:50:20.667 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: local 
21:50:20.669 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: local 
21:50:20.792 [pool-1-thread-1] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
js failed:
>>>>
01: function fn() {
02:         var temp = username + ':' + password;
03:         var Base64 = Java.type('java.util.Base64');
04:         var encoded = Base64.getEncoder().encodeToString(temp.toString().getBytes());
05:         return 'Basic ' + encoded;
06:     }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:2)

classpath:klarna/Features/AuthFlow.feature:5
21:50:20.792 [pool-1-thread-2] ERROR com.intuit.karate - classpath:klarna/Features/AuthFlow.feature:5
* header Authorization = call read("classpath:klarna/helpers/basic-auth.js") { username: '#(username)', password: '#(password)' }
js failed:
>>>>
01: function fn() {
02:         var temp = username + ':' + password;
03:         var Base64 = Java.type('java.util.Base64');
04:         var encoded = Base64.getEncoder().encodeToString(temp.toString().getBytes());
05:         return 'Basic ' + encoded;
06:     }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "username" is not defined
- <js>.fn(Unnamed:2)

classpath:klarna/Features/AuthFlow.feature:5
21:50:21.822 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<fail>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:51:57.000 [Test worker] INFO  com.intuit.karate.Runner - using system property 'karate.env': local
21:51:57.825 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:51:59.083 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: local 
21:51:59.085 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: local 
21:51:59.890 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8082/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Bearer eyJraWQiOiJmYWtlLWVkZ2UtYXV0aCIsIng1YyI6WyJMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VOeWVrTkRRVnBqUTBGb1FVSk5RVEJIUTFOeFIxTkpZak5FVVVWQ1EzZFZRVTFEVVhoSmFrRm5RbWRPVmtKQlRVMUhWMVpyV2pKVmRGbFlWakFLWVVNeGNHSnVVbXhqYlRGc1drZHNhR1JIVlhSWk1rVjNTVUpqVGsxcVFYZE9ha1UwVFZSRmQwMVVUWGhYYUdkUVRYcEJlRTlVUlhkTmFrRjRUVlJCZUFwTmVrWmhUVUpSZUVWcVFWRkNaMDVXUWtGTlRVTlhWbXRhTWxWMFdWaFdNR0ZFUTBOQlUwbDNSRkZaU2t0dldrbG9kbU5PUVZGRlFrSlJRVVJuWjBWUUNrRkVRME5CVVc5RFoyZEZRa0ZQY1VKUE9XbHdkRk5KYjFGVFpYUlFiakV3UWxGbU0zZG5UVVZ1VlN0dFExQlNSRGxCU0ZJeFJVUjNhV050VDNSclMyd0thVUV2UVM4NFUyMDVhamd4VkdKaWNUbDBkMW8zTUhGSGFEYzVUa3gzVUZaNU0yMVRSamcwU0V0dllWcFFOazFPY0hKSVR6QkZhWGx1Vm5wTWIwZGtXUXBCZGxjeEsyTlZUVk00YTAxb1JqVXZkV3A1Tm1oSk5HOUpjVzgzZEhkNmVWWnRjRWx6Tm10UGJsUTJhU3R1VVZORFZVdGlMMFV2TjFwNFMwMVBZa3h5Q2pOTUt6Uk5Na3RZZUhwTWFIUnhOSEJSZWpWeVJGSTNXamd4VGtsT2VUWnFiMUI2VGxwbmVXeElWMUZRVGpGT1YxVnZjelU0ZVc1QllXeFhVbGMxV1hVS2JVOHpiMUpITjBWVVYwTkxiMVJyYkdWRldEaGFWelJ2UlZrd1owVlViMGsyWVdOMlJuZG5XVXRQY2tWRFNsTkhabXRFWmxGV1ZuQjFVelp3WnpsRWFncG1VRzFFTWsxaVoxVm5UUzlPYkhwWVdGTTNkMHhRUjJSNlRYWXplazF5Tm5kT1kwTkJkMFZCUVZSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSYzBaQlFVOURDa0ZSUlVGdFJtVmhkVlJtUW0xcFJXTnVUM2R3ZDBOWGMwdHZkM0puWVdWNWJGaFBkbkJVUnpCcGNWTkVTM0l2Vmt0d1MxRlhLMlJNYkRGM2NTOXZXVFVLY0dKRFJsZHJhbGxCTm10Q1pGaDVXSGhEUjJ3eGNEY3ZLMmwyUldzdlZrY3pNWE15YTA5SGVIUktTSEZCWmxkaFJtZEtibE5CY1d4bldtTTFhMk12VVFvME0ycEZaMEpRUld3M1MwMTZhSEIxVFZBMVJucEtkRFZFVW1wdWRrZDRhVUpRVW10WldGaHZjVmN2VGxwSlpUTlZObGN5UlV0TGVFcE5XV2xqZVN0QkNrcE5MMWM1VFVacVpXdGxVRFZDZUdsb2FEZG5hMWxwVG0xeWMwUkVVMFJ1VEV0dVRrOVJWemR5VVVaRVQxRlRVVmR6YkVOYWFVMWFUMjkzWlZaUWRHY0tRM2RFUm10eWEyWmxiMmxhTUV3MlVXZ3hLM1ZLU25SUGIyMTFkeTlrYkZwcU5XOUphMlUwVlhKVFVrNXFNRlpuVFVGcWQwOHllREpLWTNsSlVXVnRTUXBGUlhobGFVTTNNSHA0YW5jck56ZERibkJ6TDNacVRVeFBVVDA5Q2kwdExTMHRSVTVFSUVORlVsUkpSa2xEUVZSRkxTMHRMUzBLIiwiTFMwdExTMUNSVWRKVGlCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2sxSlNVTXdWRU5EUVdKdFowRjNTVUpCWjBsRFJVRkJkMFJSV1VwTGIxcEphSFpqVGtGUlJVeENVVUYzU0VSRllVMUNaMGRCTVZWRlFYZDNVbHBYVW00S1dsTXhhR1JZVW05TVdFcDJZak5SZEZreVJYZEpRbU5PVFdwQmQwNXFSVFJOVkVWM1RWUk5lRmRvWjFCTmVrRjRUMVJGZDAxcVFYaE5WRUY0VFhwR1lRcE5RMUY0U1dwQlowSm5UbFpDUVUxTlIxZFdhMW95VlhSWldGWXdZVU14Y0dKdVVteGpiVEZzV2tkc2FHUkhWWFJaTWtWM1oyZEZhVTFCTUVkRFUzRkhDbE5KWWpORVVVVkNRVkZWUVVFMFNVSkVkMEYzWjJkRlMwRnZTVUpCVVVSWVFrOU9iME5uVEVOSVIwVjBaWE4yVjBsdE1GZGhORGhVTm5vclYydGpVSGdLUlRkcU4wWlJjbXc0UW1GRVREZHhRa0pDZDFWWVdqTkVSMWR3VkRoeVFtVlFUVXA0UXpCWFNGZDViRzAyTW5kelRrMXhOVXhZUlhwc2FUTlhaVVoxVXdwRlJrRk5ZVVJyZG5aellqRkhTM2xIVkV0bmNHbFlPR1JXYjJob09VNXplR04zYTJSclRFSmFhamRFVjNKUVpIVlpiVTFWU0V4SVpreHVjVFJJU1ZBeENrSTJWWGRYWW5aMlUybFlUVlZGVDFkMlpGZzBSM2h4SzJWYVptaExjbkZCTlZGdlpYSlpVbE14U2sxR2JDOHlSMmxqUW1sVGR5dE1NREIxWkV4Sk5rRUtZVFJIVG1aSFJYcDFhMUEzTldwemIzQkpjRWxNUm1sSFdFdFRXU3RwWldSRGNsZENha1JEVVVGR2NUWjNXRkJuWlVVdlFVVldNMUZhSzB4S1FVRjZOd3BFUzFSSE0waDRSMGR6YlhBNFpVbHpXalk0VFhsM1Z6UklkREZuTkhKSVIzUjViR3hTVW5kME5GRmtMMGh0Y1hSaVptTm1RV2ROUWtGQlIycEZla0ZTQ2sxQk9FZEJNVlZrUlhkRlFpOTNVVVpOUVUxQ1FXWTRkMFJSV1VwTGIxcEphSFpqVGtGUlJVeENVVUZFWjJkRlFrRkhXRlZxVUVKV2NTOTNMMnN2VmtjS1FWWm5ZM2g1VUdOQlVERllhbkJQVkU1NE9IUkJMemxEYlZCYVlrRnhMemhDY0dGSk5FVTFVMU5WU2xwQ1ptbG9WR1pGWmpjelowMVdVM2t6YmxWclZRcHhjMmRuWkZvMllrMUhNRlZIWkZOU1ZuTXlORUZ2TDBnMlIzUklXWGhIV2twdlJGUkliSFpHYTNobEwySjVNVFZYVW1aQ2VIRkpRaTlZUmxSWVZVTjJDbmwzYkU1NmIwMVdWek5sV2tOVE5FVXpWRzUyUTBOYVdsWm9kRVJSVlZReGJYbGpiR2h2VXpNeWFVUkVTU3RyVUdGTFJVRXhTVE5DVUc1SlZXMURSMklLZDBWeFYwVlRUV3R1T0RFMGJXSlVWV0YyYlRWc01HeFBRVUZ1Y0RJMk9WRnRUMjVRZFRCVlVsYzRiMVJuZG5kcFV6Tm9hbXBxVlVvNGFUa3ZhRklyU2dwa2EwNVFPVms0TW5wV2ExQjVOMjVoVjBsakswVnRiMmhvZDBVemFEQnBTMjR4TkZKR2VraEhNVE56ZEc5dlZXdDNibkJrT1hFeWNrOVhXbU5NUW5GcUNsZG1kVmMwV0ZrOUNpMHRMUzB0UlU1RUlFTkZVbFJKUmtsRFFWUkZMUzB0TFMwSyJdLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJub24tcGF5ZmFjIn0.KpMAJBUYIZ6ZLkEbsHmKiPqQ-HZDQxTKg0Tw9D_wqhjMztZryUPVje4HCWlqksqkNDfGzrSrjtcC7KgA_E3TBh8knfkxKG57NsSoaIn0HAWoSKQ-T6jAK9lt6i4tCtvG3EVmiQn0ynb1SGQH9Z7_d918TVLP8Gf28tHGzLvvoJ6mvc3Bt9HKT73WQmNPND5bhWBd29HuMtuRx1piZbX0MEpkRSed1uWs3tlXrfHoKXQHymuXzhGo7VM2nFj-Kd43YfQ5Q4NBHpPri66v79GfPXMl4BPWykAuYkOYx-Ft01sldDotUBL4lLuV-0tObi95rBvVhybzaD81IX5XCoen_w
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: localhost:8082
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:51:59.900 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST http://localhost:8082/payments/alternative/action/paypal/sale
1 > Authorization: Bearer eyJraWQiOiJmYWtlLWVkZ2UtYXV0aCIsIng1YyI6WyJMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VOeWVrTkRRVnBqUTBGb1FVSk5RVEJIUTFOeFIxTkpZak5FVVVWQ1EzZFZRVTFEVVhoSmFrRm5RbWRPVmtKQlRVMUhWMVpyV2pKVmRGbFlWakFLWVVNeGNHSnVVbXhqYlRGc1drZHNhR1JIVlhSWk1rVjNTVUpqVGsxcVFYZE9ha1UwVFZSRmQwMVVUWGhYYUdkUVRYcEJlRTlVUlhkTmFrRjRUVlJCZUFwTmVrWmhUVUpSZUVWcVFWRkNaMDVXUWtGTlRVTlhWbXRhTWxWMFdWaFdNR0ZFUTBOQlUwbDNSRkZaU2t0dldrbG9kbU5PUVZGRlFrSlJRVVJuWjBWUUNrRkVRME5CVVc5RFoyZEZRa0ZQY1VKUE9XbHdkRk5KYjFGVFpYUlFiakV3UWxGbU0zZG5UVVZ1VlN0dFExQlNSRGxCU0ZJeFJVUjNhV050VDNSclMyd0thVUV2UVM4NFUyMDVhamd4VkdKaWNUbDBkMW8zTUhGSGFEYzVUa3gzVUZaNU0yMVRSamcwU0V0dllWcFFOazFPY0hKSVR6QkZhWGx1Vm5wTWIwZGtXUXBCZGxjeEsyTlZUVk00YTAxb1JqVXZkV3A1Tm1oSk5HOUpjVzgzZEhkNmVWWnRjRWx6Tm10UGJsUTJhU3R1VVZORFZVdGlMMFV2TjFwNFMwMVBZa3h5Q2pOTUt6Uk5Na3RZZUhwTWFIUnhOSEJSZWpWeVJGSTNXamd4VGtsT2VUWnFiMUI2VGxwbmVXeElWMUZRVGpGT1YxVnZjelU0ZVc1QllXeFhVbGMxV1hVS2JVOHpiMUpITjBWVVYwTkxiMVJyYkdWRldEaGFWelJ2UlZrd1owVlViMGsyWVdOMlJuZG5XVXRQY2tWRFNsTkhabXRFWmxGV1ZuQjFVelp3WnpsRWFncG1VRzFFTWsxaVoxVm5UUzlPYkhwWVdGTTNkMHhRUjJSNlRYWXplazF5Tm5kT1kwTkJkMFZCUVZSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSYzBaQlFVOURDa0ZSUlVGdFJtVmhkVlJtUW0xcFJXTnVUM2R3ZDBOWGMwdHZkM0puWVdWNWJGaFBkbkJVUnpCcGNWTkVTM0l2Vmt0d1MxRlhLMlJNYkRGM2NTOXZXVFVLY0dKRFJsZHJhbGxCTm10Q1pGaDVXSGhEUjJ3eGNEY3ZLMmwyUldzdlZrY3pNWE15YTA5SGVIUktTSEZCWmxkaFJtZEtibE5CY1d4bldtTTFhMk12VVFvME0ycEZaMEpRUld3M1MwMTZhSEIxVFZBMVJucEtkRFZFVW1wdWRrZDRhVUpRVW10WldGaHZjVmN2VGxwSlpUTlZObGN5UlV0TGVFcE5XV2xqZVN0QkNrcE5MMWM1VFVacVpXdGxVRFZDZUdsb2FEZG5hMWxwVG0xeWMwUkVVMFJ1VEV0dVRrOVJWemR5VVVaRVQxRlRVVmR6YkVOYWFVMWFUMjkzWlZaUWRHY0tRM2RFUm10eWEyWmxiMmxhTUV3MlVXZ3hLM1ZLU25SUGIyMTFkeTlrYkZwcU5XOUphMlUwVlhKVFVrNXFNRlpuVFVGcWQwOHllREpLWTNsSlVXVnRTUXBGUlhobGFVTTNNSHA0YW5jck56ZERibkJ6TDNacVRVeFBVVDA5Q2kwdExTMHRSVTVFSUVORlVsUkpSa2xEUVZSRkxTMHRMUzBLIiwiTFMwdExTMUNSVWRKVGlCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2sxSlNVTXdWRU5EUVdKdFowRjNTVUpCWjBsRFJVRkJkMFJSV1VwTGIxcEphSFpqVGtGUlJVeENVVUYzU0VSRllVMUNaMGRCTVZWRlFYZDNVbHBYVW00S1dsTXhhR1JZVW05TVdFcDJZak5SZEZreVJYZEpRbU5PVFdwQmQwNXFSVFJOVkVWM1RWUk5lRmRvWjFCTmVrRjRUMVJGZDAxcVFYaE5WRUY0VFhwR1lRcE5RMUY0U1dwQlowSm5UbFpDUVUxTlIxZFdhMW95VlhSWldGWXdZVU14Y0dKdVVteGpiVEZzV2tkc2FHUkhWWFJaTWtWM1oyZEZhVTFCTUVkRFUzRkhDbE5KWWpORVVVVkNRVkZWUVVFMFNVSkVkMEYzWjJkRlMwRnZTVUpCVVVSWVFrOU9iME5uVEVOSVIwVjBaWE4yVjBsdE1GZGhORGhVTm5vclYydGpVSGdLUlRkcU4wWlJjbXc0UW1GRVREZHhRa0pDZDFWWVdqTkVSMWR3VkRoeVFtVlFUVXA0UXpCWFNGZDViRzAyTW5kelRrMXhOVXhZUlhwc2FUTlhaVVoxVXdwRlJrRk5ZVVJyZG5aellqRkhTM2xIVkV0bmNHbFlPR1JXYjJob09VNXplR04zYTJSclRFSmFhamRFVjNKUVpIVlpiVTFWU0V4SVpreHVjVFJJU1ZBeENrSTJWWGRYWW5aMlUybFlUVlZGVDFkMlpGZzBSM2h4SzJWYVptaExjbkZCTlZGdlpYSlpVbE14U2sxR2JDOHlSMmxqUW1sVGR5dE1NREIxWkV4Sk5rRUtZVFJIVG1aSFJYcDFhMUEzTldwemIzQkpjRWxNUm1sSFdFdFRXU3RwWldSRGNsZENha1JEVVVGR2NUWjNXRkJuWlVVdlFVVldNMUZhSzB4S1FVRjZOd3BFUzFSSE0waDRSMGR6YlhBNFpVbHpXalk0VFhsM1Z6UklkREZuTkhKSVIzUjViR3hTVW5kME5GRmtMMGh0Y1hSaVptTm1RV2ROUWtGQlIycEZla0ZTQ2sxQk9FZEJNVlZrUlhkRlFpOTNVVVpOUVUxQ1FXWTRkMFJSV1VwTGIxcEphSFpqVGtGUlJVeENVVUZFWjJkRlFrRkhXRlZxVUVKV2NTOTNMMnN2VmtjS1FWWm5ZM2g1VUdOQlVERllhbkJQVkU1NE9IUkJMemxEYlZCYVlrRnhMemhDY0dGSk5FVTFVMU5WU2xwQ1ptbG9WR1pGWmpjelowMVdVM2t6YmxWclZRcHhjMmRuWkZvMllrMUhNRlZIWkZOU1ZuTXlORUZ2TDBnMlIzUklXWGhIV2twdlJGUkliSFpHYTNobEwySjVNVFZYVW1aQ2VIRkpRaTlZUmxSWVZVTjJDbmwzYkU1NmIwMVdWek5sV2tOVE5FVXpWRzUyUTBOYVdsWm9kRVJSVlZReGJYbGpiR2h2VXpNeWFVUkVTU3RyVUdGTFJVRXhTVE5DVUc1SlZXMURSMklLZDBWeFYwVlRUV3R1T0RFMGJXSlVWV0YyYlRWc01HeFBRVUZ1Y0RJMk9WRnRUMjVRZFRCVlVsYzRiMVJuZG5kcFV6Tm9hbXBxVlVvNGFUa3ZhRklyU2dwa2EwNVFPVms0TW5wV2ExQjVOMjVoVjBsakswVnRiMmhvZDBVemFEQnBTMjR4TkZKR2VraEhNVE56ZEc5dlZXdDNibkJrT1hFeWNrOVhXbU5NUW5GcUNsZG1kVmMwV0ZrOUNpMHRMUzB0UlU1RUlFTkZVbFJKUmtsRFFWUkZMUzB0TFMwSyJdLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJub24tcGF5ZmFjIn0.KpMAJBUYIZ6ZLkEbsHmKiPqQ-HZDQxTKg0Tw9D_wqhjMztZryUPVje4HCWlqksqkNDfGzrSrjtcC7KgA_E3TBh8knfkxKG57NsSoaIn0HAWoSKQ-T6jAK9lt6i4tCtvG3EVmiQn0ynb1SGQH9Z7_d918TVLP8Gf28tHGzLvvoJ6mvc3Bt9HKT73WQmNPND5bhWBd29HuMtuRx1piZbX0MEpkRSed1uWs3tlXrfHoKXQHymuXzhGo7VM2nFj-Kd43YfQ5Q4NBHpPri66v79GfPXMl4BPWykAuYkOYx-Ft01sldDotUBL4lLuV-0tObi95rBvVhybzaD81IX5XCoen_w
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 649
1 > Host: localhost:8082
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"5XsvlvVhG594b1","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:51:59.962 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 68
1 < 200
1 < WP-CorrelationId: test
1 < Time-Stamp: 2022-08-20 21:51:59.919
1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate
1 < Pragma: no-cache
1 < Expires: 0
1 < X-Content-Type-Options: nosniff
1 < X-Frame-Options: DENY
1 < X-XSS-Protection: 1 ; mode=block
1 < Referrer-Policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Content-Length: 428
1 < Date: Sat, 20 Aug 2022 16:21:59 GMT
1 < Keep-Alive: timeout=60
1 < Connection: keep-alive
{"resources":[{"name":"Sale","href":"http://localhost:8082/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"http://localhost:8082/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"http://localhost:8082/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"http://localhost:8082/rels/payments/alternative/action/paypal/events"}]}
21:52:00.996 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 1096
1 < 201
1 < WP-CorrelationId: test
1 < Time-Stamp: 2022-08-20 21:51:59.919
1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate
1 < Pragma: no-cache
1 < Expires: 0
1 < X-Content-Type-Options: nosniff
1 < X-Frame-Options: DENY
1 < X-XSS-Protection: 1 ; mode=block
1 < Referrer-Policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Content-Length: 315
1 < Date: Sat, 20 Aug 2022 16:22:00 GMT
1 < Keep-Alive: timeout=60
1 < Connection: keep-alive
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/FQUSkBm6LsLxk58m5s3dIWMUM9PW4yp0w543C_o9a8W0p5wwerOfND_1WC_CT1a0"},"curies":[{"href":"http://localhost:8082/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
21:52:01.840 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
21:55:09.756 [Test worker] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
21:55:10.794 [pool-1-thread-1] INFO  com.intuit.karate - karate.env system property was: null 
21:55:10.795 [pool-1-thread-2] INFO  com.intuit.karate - karate.env system property was: null 
21:55:10.816 [pool-1-thread-2] INFO  com.intuit.karate - **************  
21:55:10.816 [pool-1-thread-1] INFO  com.intuit.karate - **************  
21:55:11.445 [pool-1-thread-1] DEBUG com.intuit.karate - request:
1 > GET https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate


21:55:11.450 [pool-1-thread-2] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 650
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.12)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"4zGHT1x2wBY8jgb","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

21:55:11.794 [pool-1-thread-1] DEBUG com.intuit.karate - response time in milliseconds: 338
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:25:11.754
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:25:11 GMT
1 < X-Served-By: cache-man4122-MAN
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661012712.690441,VS0,VE73
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
21:55:12.068 [pool-1-thread-2] DEBUG com.intuit.karate - response time in milliseconds: 617
1 < 201
1 < Connection: keep-alive
1 < Content-Length: 325
1 < wp-correlationid: test
1 < time-stamp: 2022-08-20 16:25:11.78
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Sat, 20 Aug 2022 16:25:12 GMT
1 < X-Served-By: cache-lcy19281-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661012712.688481,VS0,VE373
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=4bf0864a9cb25ee5ac2f275c3108c221; Domain=npe.access.worldpay.com; Secure
{"orderId":"A456b123","outcome":"pendingSale","_links":{"paypal:events":{"href":"/payments/alternative/action/paypal/events/rrDm49TSdb7UUWaFRiKZGSduL48VeCWWpxEnicRshir3abAob1ETQpJQ-E5kASZi"},"curies":[{"href":"https://npe.access.worldpay.com/rels/payments/alternative/action/paypal/{rel}","name":"paypal","templated":true}]}}
21:55:12.923 [pool-2-thread-1] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) classpath:klarna/Features/AuthFlow.feature
22:07:04.594 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
22:07:04.643 [main] INFO  c.intuit.karate.core.FeatureRuntime - found scenario at line: 67 - ^Validate the response for postal\, city and state$
22:07:07.983 [main] INFO  com.intuit.karate - karate.env system property was: null 
22:07:08.007 [main] INFO  com.intuit.karate - ************** null 
22:07:09.200 [main] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 643
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"3m123O4N27wy44V","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

22:07:09.871 [main] DEBUG com.intuit.karate - response time in milliseconds: 644
1 < 400
1 < Connection: keep-alive
1 < Content-Length: 306
1 < wp-correlationid: test
1 < time-stamp: 2022-08-25 16:37:09.816
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Thu, 25 Aug 2022 16:37:09 GMT
1 < X-Served-By: cache-lcy19276-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661445430.703513,VS0,VE128
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=e5256dce83a47cad3dbe48c3755ecab1; Domain=npe.access.worldpay.com; Secure
{"errorName":"bodyDoesNotMatchSchema","message":"The json body provided does not match the expected schema","validationErrors":[{"errorName":"fieldIsEmpty","message":"The identified field is empty. This field is required to be non-empty.","jsonPath":"$.instruction.paymentInstrument.billingAddress.city"}]}
22:07:09.886 [main] INFO  c.intuit.karate.core.FeatureRuntime - found scenario at line: 68 - ^Validate the response for postal\, city and state$
22:07:09.923 [main] INFO  com.intuit.karate - karate.env system property was: null 
22:07:09.924 [main] INFO  com.intuit.karate - ************** null 
22:07:09.988 [main] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 642
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"n261PTneku294JV","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"45249","city":"Ohio","state":"","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

22:07:10.182 [main] DEBUG com.intuit.karate - response time in milliseconds: 194
1 < 400
1 < Connection: keep-alive
1 < Content-Length: 307
1 < wp-correlationid: test
1 < time-stamp: 2022-08-25 16:37:10.149
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Thu, 25 Aug 2022 16:37:10 GMT
1 < X-Served-By: cache-lcy19222-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661445430.100174,VS0,VE59
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=e5256dce83a47cad3dbe48c3755ecab1; Domain=npe.access.worldpay.com; Secure
{"errorName":"bodyDoesNotMatchSchema","message":"The json body provided does not match the expected schema","validationErrors":[{"errorName":"fieldIsEmpty","message":"The identified field is empty. This field is required to be non-empty.","jsonPath":"$.instruction.paymentInstrument.billingAddress.state"}]}
22:07:10.187 [main] INFO  c.intuit.karate.core.FeatureRuntime - found scenario at line: 69 - ^Validate the response for postal\, city and state$
22:07:10.205 [main] INFO  com.intuit.karate - karate.env system property was: null 
22:07:10.206 [main] INFO  com.intuit.karate - ************** null 
22:07:10.240 [main] DEBUG com.intuit.karate - request:
1 > POST https://npe.access.worldpay.com/payments/alternative/action/paypal/sale
1 > Authorization: Basic emVzNXhzMnd6d2k3bmpoZTo0ZHlxTnpvM2FsejJ4UnFpRlJrag==
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json; charset=UTF-8
1 > wp-correlationId: test
1 > Content-Length: 642
1 > Host: npe.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate
{"transactionReference":"dM42m74AhH4wA81","merchant":{"entity":"default-FR"},"instruction":{"description":{"line1":"trading name"},"paymentInstrument":{"type":"PAYPAL","shippingAddress":{"firstName":"John","lastName":"Johnson","street":"8500 Govenors Hill Drive","postalCode":"45249","city":"Arkansa","state":"TEXAS","countryCode":"US"},"billingAddress":{"firstName":"John","lastName":"Johnson","shopperEmailAddress":"email@email.com","address1":"8500 Govenors Hill Drive","address2":"Symmes Township","address3":"Tamilnadu chennai","postalCode":"","city":"Ohio","state":"TEXAS","countryCode":"US"}},"value":{"currency":"EUR","amount":1000}}}

22:07:10.412 [main] DEBUG com.intuit.karate - response time in milliseconds: 171
1 < 400
1 < Connection: keep-alive
1 < Content-Length: 312
1 < wp-correlationid: test
1 < time-stamp: 2022-08-25 16:37:10.392
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Thu, 25 Aug 2022 16:37:10 GMT
1 < X-Served-By: cache-lcy19237-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661445430.337153,VS0,VE68
1 < Set-Cookie: 1bd1e71556364dda90262d985a136c76=86a0bac800dc50b3ec9b6f82c1354c86; Domain=npe.access.worldpay.com; Secure
{"errorName":"bodyDoesNotMatchSchema","message":"The json body provided does not match the expected schema","validationErrors":[{"errorName":"fieldIsEmpty","message":"The identified field is empty. This field is required to be non-empty.","jsonPath":"$.instruction.paymentInstrument.billingAddress.postalCode"}]}
22:07:11.533 [main] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) src/test/java/klarna/Features/AuthFlow.feature
10:34:53.404 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
10:34:53.409 [main] INFO  com.intuit.karate.Suite - backed up existing 'target/karate-reports' dir to: target/karate-reports_1661835893408
10:34:53.437 [main] INFO  c.intuit.karate.core.FeatureRuntime - found scenario at line: 18 - ^Validate the payapal resorceTree url$
10:34:54.808 [main] INFO  com.intuit.karate - karate.env system property was: null 
10:34:55.600 [main] DEBUG com.intuit.karate - request:
1 > GET https://try.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic cmwybWE2c3QxdHlxbXY2YzpneGhxZXNzNGRvZmJ1Ymo4MGkyNWc1a3ZsYjZxdmt3aWxnNHpqZWd6MjJsN2YzcmZ0NWI4dm1ydGZodHcwd3Ew
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: try.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate


10:34:56.109 [main] DEBUG com.intuit.karate - response time in milliseconds: 491
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-30 05:04:56.001
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Tue, 30 Aug 2022 05:04:56 GMT
1 < X-Served-By: cache-lcy19228-LCY
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661835896.955056,VS0,VE109
1 < Set-Cookie: f9aef4547db8bdf48aa585ccae518f2b=56abcbc9eb0b559c72a5a74bf8b23b8c; Domain=try.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
10:34:57.305 [main] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) src/test/java/klarna/Features/AuthFlow.feature
10:35:34.299 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
10:35:34.303 [main] INFO  com.intuit.karate.Suite - backed up existing 'target/karate-reports' dir to: target/karate-reports_1661835934303
10:35:34.331 [main] INFO  c.intuit.karate.core.FeatureRuntime - found scenario at line: 18 - ^Validate the payapal resorceTree url$
10:35:36.408 [main] INFO  com.intuit.karate - karate.env system property was: null 
10:35:37.245 [main] DEBUG com.intuit.karate - request:
1 > GET https://try.access.worldpay.com/rels/payments/alternative/action/paypal/resourceTree
1 > Authorization: Basic cmwybWE2c3QxdHlxbXY2YzpneGhxZXNzNGRvZmJ1Ymo4MGkyNWc1a3ZsYjZxdmt3aWxnNHpqZWd6MjJsN2YzcmZ0NWI4dm1ydGZodHcwd3Ew
1 > Accept: application/vnd.worldpay.paypal-v1+json
1 > Content-Type: application/vnd.worldpay.paypal-v1+json
1 > wp-correlationId: test
1 > Host: try.access.worldpay.com
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.16)
1 > Accept-Encoding: gzip,deflate


10:35:37.679 [main] DEBUG com.intuit.karate - response time in milliseconds: 423
1 < 200
1 < Connection: keep-alive
1 < Content-Length: 468
1 < wp-correlationid: test
1 < time-stamp: 2022-08-30 05:05:37.609
1 < cache-control: no-cache, no-store, max-age=0, must-revalidate
1 < pragma: no-cache
1 < expires: 0
1 < x-content-type-options: nosniff
1 < x-frame-options: DENY
1 < x-xss-protection: 1 ; mode=block
1 < referrer-policy: no-referrer
1 < Content-Type: application/vnd.worldpay.paypal-v1+json
1 < Accept-Ranges: bytes
1 < Date: Tue, 30 Aug 2022 05:05:37 GMT
1 < X-Served-By: cache-lon4264-LON
1 < X-Cache: MISS
1 < X-Cache-Hits: 0
1 < X-Timer: S1661835938.595500,VS0,VE56
1 < Set-Cookie: f9aef4547db8bdf48aa585ccae518f2b=da6361cdf6baaa66e26c3dfa0229a5f2; Domain=try.access.worldpay.com; Secure
{"resources":[{"name":"Sale","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/sale","children":[{"name":"Full-Refund","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/refund"},{"name":"Partial-Refund","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/partialRefund"}]},{"name":"Events","href":"https://try.access.worldpay.com/rels/payments/alternative/action/paypal/events"}]}
10:35:38.829 [main] INFO  com.intuit.karate.Suite - <<pass>> feature 1 of 1 (0 remaining) src/test/java/klarna/Features/AuthFlow.feature
